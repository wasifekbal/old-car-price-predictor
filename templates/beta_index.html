<!doctype html>
<html lang="en">

<head onkeydown="return false" oncontextmenu="return false">
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="/static/css/style.css" class="css">
    <title>Car Price Predictor</title>
    <style>
        @media screen and (min-width: 900px) {
            h2.new {
                font-size: 74px;
            }
            .kms {
                margin: 0px 40px 0px 40px;
            }
            .footer {
                padding-top: 110px;
            }
        }
        @media screen and (max-width: 900px) {
            .gap {
                margin-top: 30px;
            }
            .footer {
                padding-top: 40px;
            }
        }
    </style>
</head>

<body oncontextmenu="return false" style="background-image: url('/static/pic/bg-car.jpg'); background-repeat: no-repeat;
background-attachment: fixed;
background-position: center;">
    <nav class="navbar navbar-light" style="background-color: #e3f2fd;">
        <a class="navbar-brand"><strong>Car Price Predictor</strong></a>
        <h5 class="my-1 mx-2 mr-lg-2 mr-sm-0" tabindex="-1">Welcome</h5>
    </nav>
    <div class="container" style="height: 100%;">
        <div class="row mx-md-n5" style="margin-top: 20px;">
            <div class="col-lg-6 col-sm-12">
                <div class="card" style="width: 100%; float: left;">
                    <div class="card-body border border-success">
                        <h2 class="new mod">Let Us Find The <br> Best Price For Your Car. Unlike any other.</h2>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 col-sm-12">
                <div class="card border border-dark gap" style="width: 100%; float: right;">
                    <div class="card-body">
                        <form method="POST" action="/predict" name="myform">
                            <div class="row">
                                <div class="col-lg-6 col-sm-12 ">
                                    <div class="form-group" style="text-align: center;">
                                        <label>
                                            <h5>Company</h5>
                                        </label>
                                        <select class="selectpicker form-control"
                                            onchange='render_car_models(this.id,"model")' id="company" name="company"
                                            required="1">
                                            <option>Select Company</option>
                                            {% for i in companies%}
                                            <option value="{{i}}">{{ i }}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                </div>
                                <div class="col-lg-6 col-sm-12">
                                    <div class="form-group" style="text-align: center;">
                                        <label>
                                            <h5>Model</h5>
                                        </label>
                                        <select class="selectpicker form-control" id="model" name="model" required="1">
                                            <option>Select Model</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="col-lg-6 col-sm-12">
                                    <div class="form-group" style="text-align: center;">
                                        <label>
                                            <h5>Year Of Purchase</h5>
                                        </label>
                                        <select class="selectpicker form-control" id="year" name="year" required='1'>
                                            <option value="">Select Year</option>
                                            {% for i in yrs %}
                                            <option value="{{i}}">{{ i }}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                </div>
                                <div class="col-lg-6 col-sm-12">
                                    <div class="form-group" style="text-align: center;">
                                        <label>
                                            <h5>Fuel Type</h5>
                                        </label>
                                        <select class="selectpicker form-control" id="fuel_type" name='fuel_type'
                                            required='1'>
                                            <option value="">Select Fuel type</option>
                                            {% for i in fuel_type %}
                                            <option value="{{i}}">{{ i }}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="col-12">
                                    <div class="form-group kms" style="text-align: center;">
                                        <label>
                                            <h5>Kilometre Driven</h5>
                                        </label>
                                        <input class="form-control" id="kms" name="kms" type="tel" type="number"
                                            placeholder="eg: 62152"></input>
                                    </div>
                                </div>
                            </div>
                            <div class="text-center mt-4">
                                <button type="submit" class="btn btn-lg btn-primary"
                                    onclick="return check_num(document.myform.kms)"
                                    style="text-align: center;">Submit</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="font-small footer" style="width: 100%; bottom: 0;">
        <div class="text-center text-light" style="">
            <h6 class=" border border-danger" style="margin-bottom: 0px; padding-bottom: 15px;">Â© 2020 Copyright: Wasif
                Ekbal</h6>
        </div>
    </footer>




    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <script>
        function render_car_models(company_id, model_id) {
            var company = document.getElementById(company_id);
            var model = document.getElementById(model_id);
            console.log(company.value);
            model.value = "";
            model.innerHTML = "";
            {% for i in length %}
            if (company.value == "{{ companies[i] }}") {
                {% for x in car_models[i] %}
                var newOption = document.createElement("option");
                newOption.value = "{{ x }}";
                newOption.innerHTML = "{{ x }}";
                model.options.add(newOption);
                {% endfor %}
            }
            {% endfor %}
        };
    </script>
    <script>
        document.onkeydown = function (e) {
            if (e.which == 123 || e.keyCode == 123) { return false; }
            if (e.ctrlKey && e.shiftKey && e.keyCode == 'I'.charCodeAt(0)) { return false; }
            if (e.ctrlKey && e.shiftKey && e.keyCode == 'Q'.charCodeAt(0)) { return false; }
            if (e.ctrlKey && e.shiftKey && e.keyCode == 'C'.charCodeAt(0)) { return false; }
            if (e.ctrlKey && e.shiftKey && e.keyCode == 'J'.charCodeAt(0)) { return false; }
            if (e.ctrlKey && e.shiftKey && e.keyCode == 'M'.charCodeAt(0)) { return false; }
            if (e.ctrlKey && e.keyCode == 'I'.charCodeAt(0)) { return false; }
            if (e.ctrlKey && e.keyCode == 'S'.charCodeAt(0)) { return false; }
            if (e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)) { return false; }
            if (e.ctrlKey && e.keyCode == 'C'.charCodeAt(0)) { return false; }
            if (e.ctrlKey && e.keyCode == 'Q'.charCodeAt(0)) { return false; }
            if (e.ctrlKey && e.keyCode == 'M'.charCodeAt(0)) { return false; }
        };
    </script>
    <script>
        function check_num(inp) {
            var numbers = /^[0-9]+$/;
            if (inp.value.match(numbers)) {
                document.myform.kms.focus();
                return true;
            }
            else {
                alert('Kilometre driven should contain only numbers !!!');
                document.myform.kms.focus();
                return false;
            }
        }
    </script>
</body>

</html>