<!doctype html>
<html lang="en">

<head oncontextmenu="return false" onkeydown="return false">
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="/static/css/style.css" class="css">
    <title>Car Price Predictor</title>
    <style>
        .loader {
            position: absolute;
            width: 100%;
            height: 100vh;
            background: #21242d url('https://cssauthor.com/wp-content/uploads/2018/06/Bouncy-Preloader.gif') no-repeat center;
            z-index: 9999999;
        }

        .hide {
            display: none;
        }
    </style>
</head>

<body oncontextmenu="return false" onload='document.myform.kms.focus()'>
    <div class="loader" id="loader"></div>
    <div class="content">
        <nav class="navbar navbar-expand-sm navbar-light text-light" style="background-color: #e3f2fd;">
            <a class="navbar-brand" href="/"><strong>Car Price Predictor</strong></a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse text-dark" id=" navbarSupportedContent">
                <ul class="navbar-nav mr-auto">
                </ul>
                <form class="form-inline my-2 my-lg-0">
                    <h5 class="form-inline my-1 mx-2 mr-lg-4 mr-sm-4 mr-sm-0">Welcome</h5>
                    <a href="https://www.wasifekbal.ml" class="btn btn-outline-info mx-3 mx-sm-0">About
                        me</a>
                </form>
            </div>
        </nav>
        <div class="container-xl">
            <div id="carouselExampleIndicators" class="carousel slide carousel-fade" data-ride="carousel">
                <ol class="carousel-indicators">
                    <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="3"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="4"></li>
                </ol>
                <div class="carousel-inner">
                    <div class="carousel-item active" data-interval="3000">
                        <img src="/static/pic/car1.jpg" class="d-block w-100" alt="...">
                    </div>
                    <div class="carousel-item" data-interval="3000">
                        <img src="/static/pic/car2.jpg" class="d-block w-100" alt="...">
                    </div>
                    <div class="carousel-item" data-interval="3000">
                        <img src="/static/pic/car3.jpg" class="d-block w-100" alt="...">
                    </div>
                    <div class="carousel-item" data-interval="3000">
                        <img src="/static/pic/car4.jpg" class="d-block w-100" alt="...">
                    </div>
                    <div class="carousel-item" data-interval="3000">
                        <img src="/static/pic/car5.jpg" class="d-block w-100" alt="...">
                    </div>
                </div>
                <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row" style="margin-top: 20px;">
                <div class="card border border-dark" style="width: 100%; margin: 10px 30px 30px 30px;">
                    <div class="card-title text-center border border-mute mt-2 mx-2">
                        <h2 class="mod"> &lt;--&nbsp;Please fill-up your car details
                            below&nbsp;--&gt;</h2>
                    </div>
                    <div class="card-body">
                        <form method="POST" action="/predict" name="myform">
                            <div class="form-group mx-4" style="text-align: center;">
                                <label>
                                    <h5>Company</h5>
                                </label>
                                <select class="selectpicker form-control" ,
                                    onchange='render_car_models(this.id,"model")' , id="company" , name="company"
                                    ,required="1">
                                    <option>Select Company</option>
                                    {% for i in companies%}
                                    <option value="{{i}}">{{ i }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div class="form-group my-2 mx-4 mt-4" style="text-align: center;">
                                <label>
                                    <h5>Model</h5>
                                </label>
                                <select class="selectpicker form-control" id="model" , name="model" ,required="1">
                                    <option>Select Model</option>
                                </select>
                            </div>
                            <div class="form-group my-2 mx-4 mt-4" style="text-align: center;">
                                <label>
                                    <h5>Year Of Purchase</h5>
                                </label>
                                <select class="selectpicker form-control" , id="year" , name="year" , required='1'>
                                    <option value="">Select Year</option>
                                    {% for i in yrs %}
                                    <option value="{{i}}">{{ i }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div class="form-group my-2 mx-4 mt-4" style="text-align: center;">
                                <label>
                                    <h5>Fuel Type</h5>
                                </label>
                                <select class="selectpicker form-control" id="fuel_type" name='fuel_type' required='1'>
                                    <option value="">Select Fuel type</option>
                                    {% for i in fuel_type %}
                                    <option value="{{i}}">{{ i }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div class="form-group my-2 mx-4 mt-4" style="text-align: center;">
                                <label>
                                    <h5>Kilometre Driven</h5>
                                </label>
                                <input class="form-control" id="kms" name="kms" type="tel"
                                    placeholder="eg: 62152"></input>
                            </div>
                            <div class="text-center mt-4">
                                <button type="submit" class="btn btn-lg btn-primary"
                                    onclick="return check_num(document.myform.kms)"
                                    style="text-align: center;">Submit</button>
                            </div>
                            <div class="row">
                                <div class="col mt-4" style="text-align: center">
                                    <h4 class="price"><span id="price">Selling price of your car : ₹{{ price }}</span>
                                    </h4>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div style="text-align: center; ">
            <div class="text-center text-dark font-weight-bold" style="padding-bottom: 10px;">© 2020 Copyright: <span class="text-light">
                <a class="border border-success text-dark" href="https://www.wasifekbal.ml">Wasif Ekbal</a></span></div>
        </div>
    </div>




    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script>
        function render_car_models(company_id, model_id) {
            var company = document.getElementById(company_id);
            var model = document.getElementById(model_id);
            console.log(company.value);
            model.value = "";
            model.innerHTML = "";
            {% for i in length %}
            if (company.value == "{{ companies[i] }}") {
                {% for x in car_models[i] %}
                var newOption = document.createElement("option");
                newOption.value = "{{ x }}";
                newOption.innerHTML = "{{ x }}";
                model.options.add(newOption);
                {% endfor %}
            }
            {% endfor %}
        }
    </script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script>
        var loader = document.getElementById('loader');

        window.addEventListener("load", function () {
            setTimeout(function () { loader.style.display = 'none'; }, 500);

        });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script>
        document.onkeydown = function (e) {
            if (e.which == 123 || e.keyCode == 123) { return false; }
            if (e.ctrlKey && e.shiftKey && e.keyCode == 'I'.charCodeAt(0)) { return false; }
            if (e.ctrlKey && e.shiftKey && e.keyCode == 'Q'.charCodeAt(0)) { return false; }
            if (e.ctrlKey && e.shiftKey && e.keyCode == 'C'.charCodeAt(0)) { return false; }
            if (e.ctrlKey && e.shiftKey && e.keyCode == 'J'.charCodeAt(0)) { return false; }
            if (e.ctrlKey && e.shiftKey && e.keyCode == 'M'.charCodeAt(0)) { return false; }
            if (e.ctrlKey && e.keyCode == 'I'.charCodeAt(0)) { return false; }
            if (e.ctrlKey && e.keyCode == 'S'.charCodeAt(0)) { return false; }
            if (e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)) { return false; }
            if (e.ctrlKey && e.keyCode == 'C'.charCodeAt(0)) { return false; }
            if (e.ctrlKey && e.keyCode == 'Q'.charCodeAt(0)) { return false; }
            if (e.ctrlKey && e.keyCode == 'M'.charCodeAt(0)) { return false; }
        };
    </script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <script>
        function check_num(inp) {
            var numbers = /^[0-9]+$/;
            if (inp.value.match(numbers)) {
                document.myform.kms.focus();
                return true;
            }
            else {
                alert('Kilometre driven should contain only numbers !!!');
                document.myform.kms.focus();
                return false;
            }
        }
    </script>
</body>

</html>